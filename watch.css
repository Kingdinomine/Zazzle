/* Watch page cinematic styles */
:root {
  --accent: #7f5af0;
  --accent-rgb: 127, 90, 240;
}

body {
  background: #0a0a0b;
  color: #f3f3f3;
}

/* Minimal top bar */
.nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 64px;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 16px;
  z-index: 20;
  background: linear-gradient(to bottom, rgba(0,0,0,0.55), rgba(0,0,0,0));
}
.nav .brand a { color: #fff; text-decoration: none; font-weight: 900; letter-spacing: .5px; }
.nav .back { appearance: none; border: 1px solid rgba(255,255,255,0.18); background: rgba(255,255,255,0.08); color: #fff; border-radius: 12px; padding: 8px 12px; display:flex; align-items:center; gap:8px; cursor:pointer }

/* Cinematic background */
.watch-bg { position: fixed; inset: 0; z-index: 0; overflow: hidden; }
.watch-bg-image { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; filter: saturate(1.1) contrast(1.05) brightness(.9); }
.watch-bg-overlay { position:absolute; inset:0; background: radial-gradient(60% 60% at 50% 40%, rgba(0,0,0,0.2), rgba(0,0,0,0.65) 60%, #000 100%); }
.watch-lighting { position:absolute; inset:-10%; pointer-events:none; background: radial-gradient(35% 35% at 50% 40%, rgba(var(--accent-rgb), 0.28), rgba(var(--accent-rgb), 0.06) 60%, transparent 70%); mix-blend-mode: screen; animation: floatGlow 6s ease-in-out infinite alternate; filter: blur(12px); }
@keyframes floatGlow { from { transform: translateY(-2%) scale(1); opacity: .8; } to { transform: translateY(2%) scale(1.06); opacity: 1; } }

/* Main content */
.watch-content { position: relative; z-index: 1; max-width: 1200px; margin: 0 auto; padding: 96px 20px 40px; display: grid; gap: 28px; }

/* Frosted player card with neon borders */
.player-card { position: relative; border-radius: 18px; overflow: hidden; background: rgba(20, 22, 26, 0.5); backdrop-filter: blur(16px) saturate(1.2); -webkit-backdrop-filter: blur(16px) saturate(1.2); border: 1px solid rgba(255,255,255,0.14); box-shadow:
  0 24px 80px rgba(0,0,0,0.6),
  0 0 0 1px rgba(255,255,255,0.06) inset,
  0 0 22px rgba(var(--accent-rgb), 0.25),
  0 0 60px rgba(var(--accent-rgb), 0.18);
}
.player-card { width: 97%; margin: 0 auto; }
.player-card::before { content:""; position:absolute; inset:0; pointer-events:none; border-radius: 18px; background: linear-gradient(135deg, rgba(var(--accent-rgb),0.45), rgba(255,255,255,0.1) 30%, rgba(var(--accent-rgb),0.35) 70%, rgba(255,255,255,0.08)); mix-blend-mode: overlay; opacity: 0.25; }
.player-aspect { position: relative; aspect-ratio: 16 / 9; width: 100%; background: #000; }
.player-aspect iframe { position:absolute; inset:0; width:100%; height:100%; border:0; display:block; background:#000 }
/* Accent-reactive neon edge tightly around the video */
.player-aspect::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: 16px;
  box-shadow:
    0 0 0 2px rgba(var(--accent-rgb), 0.55) inset,
    0 0 28px rgba(var(--accent-rgb), 0.35),
    0 0 60px rgba(var(--accent-rgb), 0.22);
  mix-blend-mode: screen;
  animation: neonPulse 3.5s ease-in-out infinite;
}

@keyframes neonPulse {
  0%, 100% { opacity: 0.9; filter: saturate(1) brightness(1); }
  50%      { opacity: 1;   filter: saturate(1.2) brightness(1.08); }
}

/* Overlay HUD inside player */
.hud { position:absolute; left:0; right:0; bottom:0; padding: 10px 14px; display:flex; align-items:center; justify-content:space-between; color:#eaeaea; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.45) 45%, rgba(0,0,0,.7) 100%); }
.meta { font-size: 14px; opacity: .9; }
.controls { display:flex; gap:8px; }
.btn { appearance:none; border:1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color:#fff; border-radius: 10px; padding:8px 12px; cursor: pointer; transition: all .25s ease; }
.btn:hover { background: rgba(255,255,255,0.18); border-color: rgba(255,255,255,0.28); box-shadow: 0 0 14px rgba(var(--accent-rgb), .25); }
.menu { position:absolute; right:12px; bottom:56px; background: rgba(12,12,14,.96); border:1px solid rgba(255,255,255,0.12); border-radius: 12px; padding: 6px; display:flex; flex-direction:column; gap:6px; min-width: 120px; z-index: 11; }
.menu button { appearance:none; border:0; background:transparent; color:#fff; text-align:left; padding:8px 10px; border-radius:8px; cursor:pointer }
.menu button:hover { background: rgba(255,255,255,0.08) }

/* Controls row under player */
.player-controls { display:flex; justify-content:flex-end; gap:10px; margin: 10px auto 0; width: 97%; }
.player-controls .btn { font-weight: 600; }

/* Loading center spinner */
.center { position:absolute; inset:0; display:grid; place-items:center; }
.spinner { width:40px; height:40px; border-radius:50%; border:3px solid rgba(255,255,255,0.22); border-top-color: #fff; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg);} }

/* Resume modal & preplay overlay */
.modal { position:absolute; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,0.5); z-index: 12; }
.modal .card { background: rgba(20,22,26,0.9); border: 1px solid rgba(255,255,255,0.12); border-radius: 14px; padding: 16px; max-width: 520px; width: 92%; }
.progressbar { height:6px; background: rgba(255,255,255,0.18); border-radius: 999px; overflow:hidden }
.progressbar .fill { height:100%; background: rgb(var(--accent-rgb)); width: 0%; }
.preplay { 
  position:absolute; inset:0; display:none; align-items:center; justify-content:center; 
  background: #0a0b0d center/cover no-repeat; 
  z-index: 13; text-align:center; padding: 20px; 
}
.preplay::after { content:""; position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,.2), rgba(0,0,0,.55) 65%, rgba(0,0,0,.7)); }
.preplay-inner { position: relative; z-index: 1; display:grid; gap:10px; padding: 16px 18px; border-radius: 14px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.12); backdrop-filter: blur(6px); }
.preplay-title { font-size: clamp(1rem, 2.2vw, 1.4rem); font-weight: 800; letter-spacing: .4px; text-shadow: 0 2px 18px rgba(0,0,0,.6); }
.preplay-sub { font-size: clamp(.9rem, 1.8vw, 1.1rem); opacity: .9; }

/* Banner under the player (errors/status) */
.banner { padding: 12px 16px; margin-top: 12px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); border-radius: 12px; }
.err { color: #ffb3b3; }

/* Title + description */
.meta-section { display:grid; gap: 10px; max-width: 1000px; margin: 0 auto; }
#watch-title { font-size: clamp(1.4rem, 3vw, 2.2rem); font-weight: 900; letter-spacing: .2px; text-shadow: 0 2px 18px rgba(0,0,0,0.6); }
#watch-overview { font-size: clamp(.95rem, 1.6vw, 1.05rem); color: rgba(255,255,255,0.9); max-width: 800px; }
.reveal { animation: slideUp .6s ease both; }
@keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* Recommended row */
.recommend-section { max-width: 1200px; margin: 8px auto 24px; padding: 0 20px; }
.section-title { font-size: 1.1rem; font-weight: 800; letter-spacing: .6px; margin: 6px 0 10px; opacity: .92; }
.recommend-scroller { display: flex; gap: clamp(.75rem, 2vw, 1rem); overflow-x: auto; padding-bottom: 6px; scroll-snap-type: x mandatory; }
.recommend-scroller::-webkit-scrollbar { height: 8px; }
.recommend-scroller::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.18); border-radius: 999px; }

/* Use existing overlay-card shape from styles.css and add a neon hover */
.overlay-card.glow-card { min-width: 180px; width: clamp(160px, 18vw, 220px); scroll-snap-align: start; border: 1px solid rgba(255,255,255,0.15); box-shadow: 0 10px 30px rgba(0,0,0,0.45); transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease; }
.overlay-card.glow-card:hover { transform: translateY(-4px) scale(1.02); border-color: rgba(var(--accent-rgb), 0.65); box-shadow: 0 15px 40px rgba(0,0,0,0.55), 0 0 24px rgba(var(--accent-rgb), 0.35); }

/* Episodes section (reuses detail.css for layout) */
.episodes-section { max-width: 1000px; margin: 8px auto 0; }

/* Responsive */
@media (max-width: 768px) {
  .watch-content { padding-top: 84px; }
}
